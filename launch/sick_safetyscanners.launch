<?xml version="1.0" ?>
<launch>
  <arg name="lidar_ip_front"             default="192.168.1.51" />
  <arg name="lidar_ip_back"             default="192.168.1.52" />
  <arg name="host_ip"               default="192.168.1.200" />
  <arg name="host_udp_port"         default="0" />
  <arg name="frame_id"              default="scan" />
  <arg name="skip"                  default="0" />
  <arg name="angle_start"           default="0" />
  <arg name="angle_end"             default="0" />
  <arg name="time_offset"           default="0.0" />
  <arg name="min_intensities"       default="0.0" doc="minimal intensity for a laserscan point" />
  <arg name="channel_enabled"       default="True" />
  <arg name="general_system_state"  default="True" />
  <arg name="derived_settings"      default="True" />
  <arg name="measurement_data"      default="True" />
  <arg name="intrusion_data"        default="True" />
  <arg name="application_io_data"   default="True" />
  <arg name="use_persistent_config"   default="False" />

  <!-- Launch Sick SickSafetyscanners Ros Driver Node 1-->
  <node pkg="sick_safetyscanners" type="sick_safetyscanners_node" name="lidar_front" output="screen" ns="sick_safetyscanners">
     <param name="sensor_ip"              type="string" value="$(arg lidar_ip_front)" />
     <param name="host_ip"                type="string" value="$(arg host_ip)" />
     <param name="host_udp_port"          type="int"    value="$(arg host_udp_port)" />
     <param name="frame_id"               type="string" value="lidar_front" />
     <param name="skip"                   type="int"    value="$(arg skip)" />
     <param name="angle_start"            type="double" value="$(arg angle_start)" />
     <param name="angle_end"              type="double" value="$(arg angle_end)" />
     <param name="time_offset"            type="double" value="$(arg time_offset)" />
     <param name="min_intensities"        type="double" value="$(arg min_intensities)" />
     <param name="channel_enabled"        type="bool"   value="$(arg channel_enabled)" />
     <param name="general_system_state"   type="bool"   value="$(arg general_system_state)" />
     <param name="derived_settings"       type="bool"   value="$(arg derived_settings)" />
     <param name="measurement_data"       type="bool"   value="$(arg measurement_data)" />
     <param name="intrusion_data"         type="bool"   value="$(arg intrusion_data)" />
     <param name="application_io_data"    type="bool"   value="$(arg application_io_data)" />
     <param name="use_persistent_config"  type="bool"   value="$(arg use_persistent_config)" />
     <remap from="scan"                   to="scan_front" />
     <remap from="extended_laser_scan"    to="extended_laser_scan_front" />
     <remap from="output_paths"           to="output_paths_front" />
     <remap from="raw_data"               to="raw_data_front" />
     <remap from="diagnostics"            to="diagnostics_front" />
  </node>
  
   Launch Sick SickSafetyscanners Ros Driver Node 2
  <node pkg="sick_safetyscanners" type="sick_safetyscanners_node" name="lidar_back" output="screen" ns="sick_safetyscanners">
     <param name="sensor_ip"              type="string" value="$(arg lidar_ip_back)" />
     <param name="host_ip"                type="string" value="$(arg host_ip)" />
     <param name="host_udp_port"          type="int"    value="$(arg host_udp_port)" />
     <param name="frame_id"               type="string" value="lidar_back" />
     <param name="skip"                   type="int"    value="$(arg skip)" />
     <param name="angle_start"            type="double" value="$(arg angle_start)" />
     <param name="angle_end"              type="double" value="$(arg angle_end)" />
     <param name="time_offset"            type="double" value="$(arg time_offset)" />
     <param name="min_intensities"        type="double" value="$(arg min_intensities)" />
     <param name="channel_enabled"        type="bool"   value="$(arg channel_enabled)" />
     <param name="general_system_state"   type="bool"   value="$(arg general_system_state)" />
     <param name="derived_settings"       type="bool"   value="$(arg derived_settings)" />
     <param name="measurement_data"       type="bool"   value="$(arg measurement_data)" />
     <param name="intrusion_data"         type="bool"   value="$(arg intrusion_data)" />
     <param name="application_io_data"    type="bool"   value="$(arg application_io_data)" />
     <param name="use_persistent_config"  type="bool"   value="$(arg use_persistent_config)" />
     <remap from="scan"                   to="scan_back" />
     <remap from="extended_laser_scan"    to="extended_laser_scan_back" />
     <remap from="output_paths"           to="output_paths_back" />
     <remap from="raw_data"               to="raw_data_back" />
     <remap from="diagnostics"            to="diagnostics_back" />
  </node>
  
  <!-- static transform between laser and the robot-->
  <node pkg="tf" type="static_transform_publisher" name="base_2_laser_front" args="0.45 -0.3 0 -0.785398 0 0 base_link lidar_front 100"/>

  <!-- static transform between laser and the robot-->
  <node pkg="tf" type="static_transform_publisher" name="base_2_laser_back" args="-0.39 0.33 0 2.35 0 0 base_link lidar_back 100"/>
  
  <!-- run teleop_plc --> 
  <node pkg="mw_mitsubishi_plc_interface" type="fused_scan" name="fused_scan" output="screen"/>
  
  <!-- node name="rqt_reconfigure" pkg="rqt_reconfigure" type="rqt_reconfigure" /-->
</launch>

